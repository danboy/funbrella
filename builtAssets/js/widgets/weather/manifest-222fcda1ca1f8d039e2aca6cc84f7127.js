function weather(a){jade.debug=[{lineno:1,filename:undefined}];try{var b=[],c=a||{},d=c.currently,e=c.minutely,f=c.daily;return jade.debug.unshift({lineno:1,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:1,filename:jade.debug[0].filename}),b.push("<h1"+jade.attrs({"class":["climacon large "+d.icon+""]},{"class":!0})+">"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.shift(),b.push("</h1>"),jade.debug.shift(),jade.debug.unshift({lineno:2,filename:jade.debug[0].filename}),b.push('<h2 class="temp">'),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:2,filename:jade.debug[0].filename}),b.push(" "),jade.debug.shift(),b.push("\n"),jade.debug.unshift({lineno:3,filename:jade.debug[0].filename}),b.push(""+jade.escape((jade.interp=d.temperature)==null?"":jade.interp)+""),jade.debug.shift(),jade.debug.unshift({lineno:4,filename:jade.debug[0].filename}),b.push("<small>"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:4,filename:jade.debug[0].filename}),b.push(""+jade.escape((jade.interp=d.summary)==null?"":jade.interp)+""),jade.debug.shift(),jade.debug.shift(),b.push("</small>"),jade.debug.shift(),jade.debug.shift(),b.push("</h2>"),jade.debug.shift(),jade.debug.unshift({lineno:5,filename:jade.debug[0].filename}),b.push("<h3>"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:5,filename:jade.debug[0].filename}),b.push(""+jade.escape((jade.interp=e.summary)==null?"":jade.interp)+""),jade.debug.shift(),jade.debug.shift(),b.push("</h3>"),jade.debug.shift(),jade.debug.unshift({lineno:6,filename:jade.debug[0].filename}),b.push('<ul class="forecast">'),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:7,filename:jade.debug[0].filename}),function(){var a=f.data;if("number"==typeof a.length)for(var c=0,d=a.length;c<d;c++){var e=a[c];jade.debug.unshift({lineno:7,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:8,filename:jade.debug[0].filename}),b.push('<li class="icon">'),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:8,filename:jade.debug[0].filename}),b.push(" "),jade.debug.shift(),jade.debug.unshift({lineno:10,filename:jade.debug[0].filename}),b.push("<h2>"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.shift(),b.push("</h2>"),jade.debug.shift(),jade.debug.unshift({lineno:10,filename:jade.debug[0].filename}),b.push("<figure"+jade.attrs({"class":["climacon "+e.icon+""]},{"class":!0})+">"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:11,filename:jade.debug[0].filename}),b.push("<figcaption>"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:11,filename:jade.debug[0].filename}),b.push(" "),jade.debug.shift(),jade.debug.shift(),b.push("</figcaption>"),jade.debug.shift(),jade.debug.unshift({lineno:12,filename:jade.debug[0].filename}),b.push(""+jade.escape((jade.interp=e.temperatureMin)==null?"":jade.interp)+"/"),jade.debug.shift(),jade.debug.unshift({lineno:13,filename:jade.debug[0].filename}),b.push("<strong>"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:13,filename:jade.debug[0].filename}),b.push(""+jade.escape((jade.interp=e.temperatureMax)==null?"":jade.interp)+""),jade.debug.shift(),jade.debug.shift(),b.push("</strong>"),jade.debug.shift(),jade.debug.shift(),b.push("</figure>"),jade.debug.shift(),jade.debug.shift(),b.push("</li>"),jade.debug.shift(),jade.debug.shift()}else{var d=0;for(var c in a){d++;var e=a[c];jade.debug.unshift({lineno:7,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:8,filename:jade.debug[0].filename}),b.push('<li class="icon">'),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:8,filename:jade.debug[0].filename}),b.push(" "),jade.debug.shift(),jade.debug.unshift({lineno:10,filename:jade.debug[0].filename}),b.push("<h2>"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.shift(),b.push("</h2>"),jade.debug.shift(),jade.debug.unshift({lineno:10,filename:jade.debug[0].filename}),b.push("<figure"+jade.attrs({"class":["climacon "+e.icon+""]},{"class":!0})+">"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:11,filename:jade.debug[0].filename}),b.push("<figcaption>"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:11,filename:jade.debug[0].filename}),b.push(" "),jade.debug.shift(),jade.debug.shift(),b.push("</figcaption>"),jade.debug.shift(),jade.debug.unshift({lineno:12,filename:jade.debug[0].filename}),b.push(""+jade.escape((jade.interp=e.temperatureMin)==null?"":jade.interp)+"/"),jade.debug.shift(),jade.debug.unshift({lineno:13,filename:jade.debug[0].filename}),b.push("<strong>"),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:13,filename:jade.debug[0].filename}),b.push(""+jade.escape((jade.interp=e.temperatureMax)==null?"":jade.interp)+""),jade.debug.shift(),jade.debug.shift(),b.push("</strong>"),jade.debug.shift(),jade.debug.shift(),b.push("</figure>"),jade.debug.shift(),jade.debug.shift(),b.push("</li>"),jade.debug.shift(),jade.debug.shift()}}}.call(this),jade.debug.shift(),jade.debug.shift(),b.push("</ul>"),jade.debug.shift(),jade.debug.unshift({lineno:14,filename:jade.debug[0].filename}),b.push('<small class="weather-brand">'),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:15,filename:jade.debug[0].filename}),b.push("powered by"),jade.debug.shift(),jade.debug.unshift({lineno:16,filename:jade.debug[0].filename}),b.push('<a href="http://forecast.io">'),jade.debug.unshift({lineno:undefined,filename:jade.debug[0].filename}),jade.debug.unshift({lineno:16,filename:jade.debug[0].filename}),b.push("Forcast.io "),jade.debug.shift(),jade.debug.shift(),b.push("</a>"),jade.debug.shift(),jade.debug.shift(),b.push("</small>"),jade.debug.shift(),jade.debug.shift(),b.join("")}catch(g){jade.rethrow(g,jade.debug[0].filename,jade.debug[0].lineno)}}var Funbrella=Funbrella||{};Funbrella.weather=Funbrella.WidgetView.extend({setup:function(){this.url="https://api.forecast.io/forecast/"+this.prefs.key+"/"+this.prefs.location},prefs:{key:"",location:"",frequency:900},requires:["key","location"],data:function(a,b){a.daily.data=a.daily.data.splice(0,4),a.currently.temperature=Math.round(a.currently.temperature);for(i=0;i<a.daily.data.length;i++)a.daily.data[i]=this.roundFloats(a.daily.data[i],["temperatureMax","temperatureMin"]);b(a),a.alerts&&this.send(a.alerts)},send:function(a){a.forEach(function(a){Funbrella.Messages.send({type:"weather",sender:"weather alert",content:a.title})})},roundFloats:function(a,b){return b.forEach(function(b){a[b]=Math.round(a[b])}),a},getLocation:function(a){navigator.geolocation?navigator.geolocation.getCurrentPosition(a):a(null)},template:weather}),function(){}.call(this)